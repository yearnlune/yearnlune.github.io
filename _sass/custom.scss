/* ==========================================================================
   CUSTOM STYLES - 가독성 및 UX 개선
   ========================================================================== */

/* 본문 최대 너비 제한 - 가독성 향상 */
.page__content {
  max-width: 65em; // 약 1040px (16px 기준)
  margin: 0 auto;
  
  @include breakpoint($large) {
    max-width: 70em; // 약 1120px
  }
  
  @include breakpoint($x-large) {
    max-width: 75em; // 약 1200px
  }
}

/* 본문 텍스트 가독성 개선 */
.page__content {
  p {
    font-size: 1em; // 기본 크기 (16px)
    line-height: 1.8; // 줄 간격 증가
    margin-bottom: 1.5em;
    color: $text-color;
  }
  
  li {
    line-height: 1.8;
    margin-bottom: 0.5em;
  }
  
  ul, ol {
    margin-bottom: 1.5em;
    padding-left: 1.5em;
  }
}

/* 제목 간격 조정 */
.page__content {
  h1 {
    font-size: 2em;      /* 32px (16px 기준) */
    line-height: 1.25;
    margin-top: 2em;
    margin-bottom: 1em;
  }
  
  h2 {
    margin-top: 2.5em;
    margin-bottom: 1em;
    padding-bottom: 0.5em;
    font-size: 1.53em;   /* ≈24.5px */
    line-height: 1.35;
    border-bottom: 2px solid $border-color;
  }
  
  h3 {
    margin-top: 2.2em;
    margin-bottom: 0.6em;
    padding-top: 0.5em;
    font-size: 1.24em;   /* ≈19.8px */
    line-height: 1.45;
  }
  
  h4 {
    margin-top: 1.5em;
    margin-bottom: 0.6em;
    font-size: 1.2em;
    line-height: 1.3;
  }
}

/* 코드 블록 스타일 개선 */
.page__content {
  pre {
    margin: 1.5em 0;
    padding: 1.2em;
    border-radius: 6px;
    overflow-x: auto;
    font-size: 0.98em;
    line-height: 1.6;

    code {
      font-size: 1em;
    }
  }
  
  code {
    padding: 0.2em 0.4em;
    border-radius: 3px;
    font-size: 0.9em;
  }
  
  // 인라인 코드와 블록 코드 구분
  p code,
  li code {
    background-color: rgba(0, 0, 0, 0.05);
    color: #c7254e;
  }
}

/* 인용구 스타일 개선 */
.page__content {
  blockquote {
    margin: 2em 0;
    padding: 1em 1.5em;
    border-left: 4px solid $primary-color;
    background-color: rgba(0, 0, 0, 0.02);
    font-style: italic;
    line-height: 1.7;
    
    p {
      margin-bottom: 0.5em;
      
      &:last-child {
        margin-bottom: 0;
      }
    }
  }
}

/* 테이블 스타일 개선 */
.page__content {
  table {
    width: 100%;
    margin: 1.5em 0;
    border-collapse: collapse;
    font-size: 0.95em;
    
    th, td {
      padding: 0.75em 1em;
      border: 1px solid $border-color;
    }
    
    th {
      background-color: rgba(0, 0, 0, 0.05);
      font-weight: bold;
    }
  }
}

/* 강조 텍스트 스타일 */
.page__content {
  strong {
    font-weight: 600;
    color: darken($text-color, 10%);
  }
  
  em {
    font-style: italic;
  }
}

/* 목록 스타일 개선 */
.page__content {
  ul, ol {
    li {
      margin-bottom: 1em;

      p {
        margin-bottom: 0.5em;
      }
    }
  }
  
  // 중첩 목록 간격
  ul ul, ol ol, ul ol, ol ul {
    margin-top: 0.5em;
    margin-bottom: 0.5em;
  }
}

/* 수평선 스타일 */
.page__content {
  hr {
    margin: 2.5em 0;
    border: 0;
    border-top: 1px solid $border-color;
  }
}

/* 이미지 반응형 스타일 */
.page__content {
  img {
    max-width: 100%;
    height: auto;
    display: block;
    margin: 1.5em auto;
    border-radius: 4px;

    // 이미지에 캡션이 있는 경우
    & + em {
      display: block;
      text-align: center;
      font-size: 0.9em;
      color: $muted-text-color;
      margin-top: -1em;
      margin-bottom: 1.5em;
    }
  }

  // 인라인 이미지 (작은 아이콘 등)
  p img {
    display: inline-block;
    margin: 0 0.2em;
    vertical-align: middle;
  }
}

/* 페이지 제목 스타일 개선 - 긴 제목 처리 */
.page__title {
  font-size: 2.2em;
  line-height: 1.4; // 여러 줄일 때 가독성 향상
  margin-bottom: 0.5em;
  word-wrap: break-word; // 긴 단어 줄바꿈
  overflow-wrap: break-word; // 최신 브라우저 지원
  hyphens: auto; // 하이픈으로 단어 분리 (선택적)
  word-break: keep-all; // 한글은 단어 단위로 줄바꿈
  max-width: 100%; // 컨테이너 너비 제한
  
  @include breakpoint($large) {
    font-size: 2.5em;
    line-height: 1.35; // 큰 화면에서도 적절한 줄 간격
  }
  
  // 제목이 여러 줄일 때를 고려한 여백
  & + .page__meta {
    margin-top: 0.5em;
  }
}

/* 메타 정보 스타일 */
.page__meta {
  font-size: 0.9em;
  color: $muted-text-color;
  margin-bottom: 2em;
}

/* 포스트 목록 제목 색상 개선 */
.archive__item-title {
  a {
    color: $text-color !important;
    
    &:hover {
      color: $primary-color !important;
    }
    
    &:visited {
      color: $text-color !important;
    }
  }
}

/* 반응형 조정 - 모바일(핸드폰)에서도 가독성 유지 */
@media (max-width: 768px) {
  body {
    font-size: 1em; /* 16px */
  }

  .page__content {
    p {
      font-size: 1em;
      line-height: 1.7;
    }
    
    h1 {
      font-size: 1.75em;
      line-height: 1.3;
    }
    
    h2 {
      font-size: 1.4em;
      margin-top: 2em;
    }
    
    h3 {
      font-size: 1.15em;
      margin-top: 1.8em;
      margin-bottom: 0.5em;
    }
  }
}
